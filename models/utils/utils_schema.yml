version: 2

models:
  - name: util_date_spine
    description: Date dimension table with a row for each date and associated time period attributes
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - date
    columns:
      - name: date
        description: Calendar date
        tests:
          - unique
          - not_null
      
      - name: week
        description: First day of the week for this date
        tests:
          - not_null
      
      - name: month
        description: First day of the month for this date
        tests:
          - not_null
      
      - name: quarter
        description: First day of the quarter for this date
        tests:
          - not_null
      
      - name: year
        description: First day of the year for this date
        tests:
          - not_null
      
      - name: day_name
        description: Name of the day of the week
        tests:
          - not_null
          - accepted_values:
              values: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']
      
      - name: month_num
        description: Month number (1-12)
        tests:
          - not_null
          - dbt_utils.accepted_range:
              min_value: 1
              max_value: 12
              inclusive: true
      
      - name: month_name
        description: Name of the month
        tests:
          - not_null
          - accepted_values:
              values: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']
      
      - name: quarter_num
        description: Quarter number (1-4)
        tests:
          - not_null
          - dbt_utils.accepted_range:
              min_value: 1
              max_value: 4
              inclusive: true
      
      - name: year_num
        description: Year number
        tests:
          - not_null
      
      - name: time_period
        description: Categorization of date relative to current date
        tests:
          - not_null
          - accepted_values:
              values: ['Today', 'Future', 'Past']